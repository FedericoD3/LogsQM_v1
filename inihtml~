<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <style>
    body
      {
      font-size: 12px;
      color: rgb(0,0,0);
      letter-spacing: 0px;
      line-height: 90%;
      white-space:pre;
      margin-top: 0px;
      margin-left: 10px;
      }
    @font-face
      {
      font-family: Monoespaciado;
      src: url(VictorMono-Regular.ttf);
      }
    *
      {
      font-family: Monoespaciado;
      }
    </style>
    <title>
      Log ALFICA Corpoelec
    </title>

    <script type="text/javascript">

      var Arch="index.html.tag";
      var Ult="--:--";
      var Prev="88:88";
      var Resul="-";

    function Init()
      {
        // Leer el tag de actualizacion y guardarlo en la variable Prev, para que la primera vez no recargue
        Prev = ContenidoDe(Arch);
//        document.getElementById("Etiq").innerHTML = "Actualizado a las " + Ult ;
        setInterval(function(){ Monitor('index.html.tag') }, 5000);
      }

    function Monitor(Arch)
      {
          Prev=Ult;
          Ult = ContenidoDe(Arch);
//          document.getElementById("Etiq").innerHTML = "Actualizado a las " + Ult ;
          console.log(Ult+" "+Prev)
//          if (Ult != Prev) { location.reload(); }
      }

    function ContenidoDe(Arch)
      {
        fetch(Arch)
        .then(response => response.text() )
        .then( datos => Resul = datos  );
         return(Resul);
      }

    </script>
  </head>

  <body bgcolor="FFC0D0" onload="Init()">
<H2>Conexiones desde ---FQDM--- hacia ---DEST--- durante ---LAPSO---</H2>
 * servicio 100% activo | # servicio 100% activo y es hora en punto
1~9 servicio activo 10% ~ 90%
 - servicio  0%  activo | + servicio 0% activo y es hora en punto
 . no hay registro      | , no hay registro y es hora en punto

Fecha
 |    Sextos de hora -->
 | 0     0     0     0     0     0     0     0     0     0     1     1     1     1     1     1     1     1     1     1     2     2     2     2
 V 0     1     2     3     4     5     6     7     8     9     0     1     2     3     4     5     6     7     8     9     0     1     2     3

